---
title: "R Markdownã§æ—¥æœ¬èª\\texttt{beamer}ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³"
author: "ill-identified"
date: "`r Sys.Date()`"
output:
  rmdCJK::beamer_presentation_CJK:
    keep_md: false
    theme: metropolis
    highlight: tango
    citation_options: numbers
fontsize: 12pt
bibliography: examples.bib
biblio-style: jecon
mainfont: Roboto
sansfont: Noto Sans CJK JP
monofont: Ricty Diminished
CJKmainfont: Noto Sans CJK JP
---

```{r setup-document, include=F}
options(tinytex.latexmk.emulation = F)
file.copy(file.path(system.file("extdata", package = "rmdCJK"), "latexmk/.latexmkrc"), to = "./")
# ä¸Šè¨˜ã¯æ—¥æœ¬èªå¼•ç”¨æ–‡çŒ®ãƒªã‚¹ãƒˆã®ãŸã‚ã«å¿…è¦

# ã‚µãƒ³ãƒ—ãƒ«ç”»åƒç­‰ã‚’å‚ç…§ã™ã‚‹ãƒ‘ã‚¹
file_loc <- system.file("extdata", package = "rmdCJK")
# ã‚µãƒ³ãƒ—ãƒ«å¼•ç”¨æ–‡çŒ®ãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹
file.copy(file.path(file_loc, "examples.bib"), to = "./")

knitr::opts_chunk$set(cache = T)
```

## ç›®æ¬¡
\tableofcontents[hideallsubsections]

# ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³

## ã“ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ä½•?
* ã‚ã¾ã‚Šæƒ…å ±ãŒæµã‚Œã¦ã„ãªã„, rmarkdownã¨beamerã§æ—¥æœ¬èªã‚’å«ã‚€ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚‹ãŸã‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå…¼ç”¨ä¾‹é›†
* `reveal.js`ãªã©htmlåª’ä½“ã¯ä»–ã®è³‡æ–™ã‚’å‚ç…§
  + [ã“ã“](https://kazutan.github.io/SappoRoR6/rmd_slide.html#/)ã‚„[ã“ã“](https://kazutan.github.io/fukuokaR11/intro_rmarkdown_d.html)ã‚’è¦‹ã‚ˆ
* ã‚‚ã¨ã‚‚ã¨ã¯è‡ªåˆ†ç”¨ã«ä½œã£ãŸãƒ†ãƒ³ãƒ—ãƒ¬ã ã£ãŸã‚‚ã®ã‚’ä¸‡äººå‘ã‘ã«ä¿®æ­£

## æƒ³å®šã•ã‚Œã‚‹ç”¨é€”

* Tokyo.R ãªã©Rã‚’ä½¿ã£ãŸè©±ã‚’ç™ºè¡¨ã™ã‚‹éš›ã®è³‡æ–™ä½œæˆ
* æŠ€è¡“ãƒ»ã‚¢ã‚«ãƒ‡ãƒŸãƒƒã‚¯å¯„ã‚Šã®è©±é¡Œã‚’æƒ³å®š
* å…·ä½“çš„ã«è¦æ±‚ã•ã‚Œã‚‹ã‚‚ã®
  + **æ—¥æœ¬èªè¡¨ç¤º**
  + ãƒ©ã‚¹ã‚¿ã¾ãŸã¯ãƒ™ã‚¯ã‚¿ç”»åƒã®æŒ¿å…¥
  + è¡¨ã®æŒ¿å…¥
  + Rã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚„ã™ãè¡¨ç¤º
  + å‚è€ƒæ–‡çŒ®ã®ç›¸äº’å‚ç…§/ãƒªã‚¹ãƒˆè‡ªå‹•ç”Ÿæˆ
  + **LyX ã‚„overleafã‚ˆã‚Šç°¡å˜ã§ã‚ã‚‹ã“ã¨**
  + **ãªã‚“ã‹ãƒŠã‚¦ã§ã‚ªã‚µãƒ¬ãªæ„Ÿã˜ã¯æ±‚ã‚ã¦ãªã„**
    + è‡ªç”±ã™ãã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ä¸å¯

## å…ˆè¡Œäº‹ä¾‹ã®ç´¹ä»‹
* ä¼Šæ±ã€[R Markdownã¨Beamerã§ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™ä½œæˆ](https://www.slideshare.net/hirokito/r-markdownbeamer-88777082)ã€
  + \LuaLaTeX ã‚’ä½¿ã£ã¦æ—¥æœ¬èªã§Beamerã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆã™ã‚‹æ–¹æ³•
* Atusy ã€[R Markdown + XeLaTeX ã§æ—¥æœ¬èªå«ã‚å¥½ããªãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã£ã¦ PDF ã‚’å‡ºåŠ›ã™ã‚‹](https://blog.atusy.net/2019/05/14/rmd2pdf-any-font/)ã€
* å…ˆè¡Œäº‹ä¾‹ã¨ã®é•ã„:
  + ã‚¨ãƒ³ã‚¸ãƒ³ã‚’\XeLaTeX ã«å¤‰æ›´
  + æ—¥æœ¬èªæ–‡çŒ®bibãƒ•ã‚¡ã‚¤ãƒ«ãƒ»bstãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾å¿œ
  +  ã‚¹ãƒ©ã‚¤ãƒ‰ä½œä¾‹ã‚’å¤šå°‘å……å®Ÿã•ã›ãŸ
  + ãã®ä»–ä½“è£ã«ã“ã ã‚ã‚ŠãŸã„äººå‘ã‘
    - ã€Œè¡¨Xã€ã€Œå›³Xã€ã¨ã„ã£ãŸã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³

## `reveal.js` ã˜ã‚ƒãƒ€ãƒ¡ãªã®?
* å€‹äººçš„ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã‹ã‚ã¾ã‚Šå¥½ãã˜ã‚ƒãªã„
* ä¸Šä¸‹å·¦å³ã«å‹•ã„ã¦ç©ºé–“è­˜å¤±èª¿ã«ãªã‚‹
  + (å€‹äººã®ä½“é¨“ã§ã™)
  + ä¸Šä¸‹ã®ã¿ã«ã‚‚ã§ãã‚‹
* htmlã‚ˆã‚Šã‚‚ä¸å¤‰ãªåª’ä½“ã«ã—ãŸã„
  + pdfãŒæ˜ç¢ºã«å„ªã‚Œã¦ã„ã‚‹ã‹ã¯æ€ªã—ã„
* ~~Q: ãŠå‰ãŒä½¿ã„ã“ãªã›ã¦ãªã„ã ã‘ã˜ã‚ƒãªã„ã®?~~
  + ~~A: ã†ã‚‹ã•ã„~~


## ãƒ‘ãƒ¯ãƒ¼ãƒã‚¤ãƒ³ãƒˆã˜ã‚ƒãƒ€ãƒ¡ãªã®?
* ç§ã¯**æŒã£ã¦ãªã„**
* ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãŒé¢å€’
  + ãƒ‘ãƒ¯ãƒã®å ´åˆã¯[VSCode](https://notchained.hatenablog.com/entry/2017/02/20/221446)ã‹[`reprex`](https://reprex.tidyverse.org/articles/articles/rtf.html)ã§ã‚³ãƒ”ãƒš
* ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ä½ç½®èª¿æ•´ã¯ä¾¿åˆ©
* ã—ã‹ã—ãƒãƒ³ãƒçµµèŠ¸è¡“ã«ãªã‚ŠãŒã¡
* æ¥µåŠ›ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦è¦–ç·šèª˜å°ã®è² æ‹…ã‚’ãªãã™ã¹ã
  + å¾¹åº•ã™ã‚‹ã‹ã¯**å¥½ã¿ã®å•é¡Œ**

## æŠ€è¡“çš„ã«å„ä»‹ã ã£ãŸã¨ã“ã‚
* htmlã¨pdf(\LaTeX)ã¨ã§å¾®å¦™ã«é•ã†æŒ™å‹•
  + ãƒãƒƒãƒˆä¸Šã®æƒ…å ±ã¯htmlå‰æãŒå¤šã„
  + pandocãƒãƒ§ãƒƒãƒˆãƒ¯ã‚«ãƒ«å¿…è¦
* æ—¥æœ¬èªã‚’å«ã‚€å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆ
  + \upBibTeX ã®é©ç”¨
  + ç´°ã‹ã„ã‚ªãƒ—ã‚·ãƒ§ãƒ³, ç‰¹ã«`metropolis`ç‰¹æœ‰ã®ä»•æ§˜
* RStudio Cloud ã§å‹•ãã‹ã¯æœªç¢ºèª
  + æ—¥æœ¬èªè¡¨ç¤ºãŒãŠã‹ã—ã„èª¬ã‚ã‚Š
  
# ä½¿ã„æ–¹

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
1. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```{r install, eval=F, echo=T}
remotes::install_github(
  "Gedevan-Aleksizde/my_latex_templates",
  subdir = "rmdCJK")
```

2. TeXLive (>= 2018)ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  + åˆ†ã‹ã‚‰ãªã‘ã‚Œã°[TeX wiki ã®ãƒšãƒ¼ã‚¸](https://texwiki.texjp.org/?TeX%20Live)ã‚’å‚è€ƒã«
3. (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) [metropolisãƒ†ãƒ¼ãƒ](https://github.com/matze/mtheme)ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## åŸºæœ¬
1. yamlãƒ˜ãƒƒãƒ€ã«ä»¥ä¸‹ã‚’æ›¸ã

```yaml
output:  rmdCKL::beamer_presentation_CJK
```

2. RStudioã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®"Knit"ã‚’æŠ¼ã™

```{r knit-image, out.width="80%"}
knitr::include_graphics(file.path(file_loc, "img/render.png"))
```

## ãƒ•ã‚©ãƒ³ãƒˆæŒ‡å®š
* ä½¿ã†ãƒã‚·ãƒ³ã«å¿œã˜ã¦ä»¥ä¸‹ã®ç®‡æ‰€ã‚’é©å½“ã«å¤‰ãˆã‚‹
* åˆæœŸè¨­å®šã¯Rictyã‚’é™¤ãå…¨ã¦[Google Fonts](https://fonts.google.com/?category=Sans+Serif#standard-styles)ã§å…¥æ‰‹å¯
* ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ãƒ•ã‚©ãƒ³ãƒˆå¤‰æ›´ã¯**æƒ³å®šã—ã¦ãªã„**

```yaml
mainfont: Roboto
sansfont: Noto Sans CJK JP
monofont: Ricty Diminished
CJKmainfont: Noto Sans CJK JP
```

## åŸºæœ¬æ§‹æ–‡
- markdownçš„ãªæ›¸ãæ–¹ã§ã§ãã‚‹
- "`## `ã‚¿ã‚¤ãƒˆãƒ«" ã§ã‚¹ãƒ©ã‚¤ãƒ‰ã®é–‹å§‹
  + \LaTeX ã‚³ãƒãƒ³ãƒ‰ã‚‚æŒ¿å…¥å¯èƒ½

```markdown
# ç¯€è¦‹å‡ºã—
## ã‚¿ã‚¤ãƒˆãƒ«1
- **å¤ªå­—** **bold**
- _å¼·èª¿_ _emph_
- `ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ä½“` `mono`
```

- **å¤ªå­—** **bold**
- _å¼·èª¿_ _emph_
- `ã‚¿ã‚¤ãƒ—ãƒ©ã‚¤ã‚¿ä½“` `mono`

## Beamerã‚„RMarkdownä½¿ç”¨ã«å½¹ç«‹ã¤è³‡æ–™

* ä¼Šæ±ã€[R Markdownã¨Beamerã§ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è³‡æ–™ä½œæˆ](https://www.slideshare.net/hirokito/r-markdownbeamer-88777082)ã€(\LuaLaTeX ä½¿ç”¨)
* æ¾ç”°ã€[Beamerèª­æœ¬-è¬›æ¼”ç”¨ã‚¹ãƒ©ã‚¤ãƒ‰ä½œæˆã®ãŸã‚ã«-](http://ayapin-film.sakura.ne.jp/LaTeX/slides.html#beamer)ã€
* Kazutanã€[R Markdownã«ã‚ˆã‚‹ã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆ](https://kazutan.github.io/SappoRoR6/rmd_slide.html#/)ã€ã€[R Markdownå…¥é–€](https://kazutan.github.io/kazutanR/Rmd_intro.html)ã€
* Atusyã€[R Markdown + XeLaTeX ã§æ—¥æœ¬èªå«ã‚å¥½ããªãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ã£ã¦ PDF ã‚’å‡ºåŠ›ã™ã‚‹](https://blog.atusy.net/2019/05/14/rmd2pdf-any-font/)ã€
* R Markdown 2.0 ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã®[æ—¥æœ¬èªè¨³](https://rstudio.com/wp-content/uploads/2016/11/Rmarkdown-cheatsheet-2.0_ja.pdf), Takahashi, M.è¨³

## ã‚‚ã†å°‘ã—ãã‚ã—ã„ã‚„ã¤

* Atusy ã€[R Markdownãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãŸã‚ã®Pandocâ€™s Markdown](https://atusy.booth.pm/items/1453002)ã€
* è¬ç›Šè¼ (yihui) "[knitr - Elegant, flexible, and fast dynamic report generation with R](https://yihui.org/knitr/)" (é–‹ç™ºè€…æœ¬äºº)
* Xie, Yihui & C. Dervieux "[R Markdown Coobook](https://bookdown.org/yihui/rmarkdown-cookbook/)"

## ä»Šå›ä½¿ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

* ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã«ã¯ä»¥ä¸‹ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹
  + å›³è¡¨ä½œæˆã¨ã‹æœ€ä½é™å¿…è¦ãªã‚‚ã®ã ã‘

```{r load-packages, echo=T, class.source = "numberLines LineAnchors"}
require(conflicted) # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç«¶åˆé˜²æ­¢ç”¨
require(tidyverse)  # å…¨èˆ¬
require(ggthemes)   # ggplot2ã®ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´
require(ggdag)      # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ã®ç”¨ä¾‹ã«
```

* ä»¥ä¸‹ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ã¿/èª­ã¿è¾¼ã‚€å¿…è¦ãªã—
  - `citr`: å¼•ç”¨æ–‡çŒ®ã®æŒ¿å…¥ã‚’GUIã§
  - `bookdown`: æ•°å¼ã‚’GUIã§

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤º: åŸºæœ¬äº‹é …
* `echo=T`ã§ãƒãƒ£ãƒ³ã‚¯å†…ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤º
  + ãƒ‡ãƒ•ã‚©ã§ã¯éè¡¨ç¤º
  + **è‡ªå‹•ã§ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ**
* ã¯ã¿å‡ºã™å ´åˆã¯`tidy=F`ã—ã¦æ‰‹å‹•æ”¹è¡Œ
  + æ—¥æœ¬èªç­‰ã§æŠ˜ã‚Šè¿”ã—åœ°ç‚¹ãŒã†ã¾ãè¡Œã‹ãªã„
* `class.source = "numberLines, LineAnchors"` ã§è¡Œç•ªå·è¡¨ç¤º([å‚è€ƒ](https://blog.atusy.net/2019/04/18/rmd-line-num/))

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤º: å‡ºåŠ›ä¾‹

```{r display-chunk}
text <- '```{r, echo=T, class.source = "numberLines, LineAnchors"}
require(conflicted) 
require(tidyverse)
require(ggthemes)
require(ggdag)
```'
cat(text)
```

```{R load-packages2, echo=T, class.source = "numberLines LineAnchors", eval=F}
require(conflicted)
require(tidyverse)
require(ggthemes)
require(ggdag)
```


# æ•°å¼é–¢ä¿‚

## æ•°å¼ã®æŒ¿å…¥: è¡Œå†…(ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³)

* markdowné¢¨ã®LaTeXã‚³ãƒ¼ãƒ‰åŸ‹ã‚è¾¼ã¿
* \LaTeX ã®æ•°å¼ã‚’`$`ã§æŒŸã‚€
* ä¾‹: `ã‚‰ã‚“ã¾$\frac{1}{2}$`
  + å‡ºåŠ›: ã‚‰ã‚“ã¾$\frac{1}{2}$
  + æ³¨: è¡Œå†…ã§åˆ†æ•°ã¯ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ä½¿ã£ãŸã»ã†ãŒè¦‹ã‚„ã™ã„
* æ•°å¼ã«ã¯ã‚»ãƒªãƒ•ãƒ•ã‚©ãƒ³ãƒˆä½¿ç”¨
  + ã‚¹ãƒ©ã‚¤ãƒ‰ã¯ã‚µãƒ³ã‚»ãƒªãƒ•ãŒè‰¯ã„ã¨ã•ã‚Œã‚‹
  + ã—ã‹ã—æ•°å¼ã®çµ±ä¸€æ„ŸãŒãªã„
  + (å€‹äººã®å¥½ã¿?) 

## æ•°å¼ã®æŒ¿å…¥: ç‹¬ç«‹è¡Œ

* `$$`ã§æŒŸã‚“ã ç¯„å›²ã«\LaTeX æ§‹æ–‡

```latex
$$\begin{aligned}
& \sin^2(x) + \cos^2(x) = 1\\
& f(x) = \frac{1}{(2\pi)^2}\int_{\mathbb{R}^n}
\hat{f}(\omega)\exp(i\omega x)d\omega
\end{aligned}$$
```

$$\begin{aligned}
& \sin^2(x) + \cos^2(x) = 1\\
& f(x) = \frac{1}{(2\pi)^2}\int_{\mathbb{R}^n}\hat{f}(\omega)\exp(i\omega x)d\omega
\end{aligned}$$


## æ•°å¼ã®æŒ¿å…¥: `bookdown` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¢ãƒ‰ã‚¤ãƒ³ã§è£œå®Œ

1. RStudioã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ "Addins"
2. "Input LaTeX Math"

```{r math-input, out.height="40%", fig.cap="bookdownã®æ•°å¼å…¥åŠ›æ©Ÿèƒ½"}
knitr::include_graphics(file.path(file_loc, "img/math-input.png"))
```
* ä¸€éƒ¨å¯¾å¿œã—ã¦ãªã„è¨˜å·ã‚‚ã‚ã‚‹?
  + `\mathbb{}`ã¨ã‹`\hat{}`ã¨ã‹
* æ•°å¼ã®ã¿ã§`\aligned`ç­‰ç’°å¢ƒã®å…¥åŠ›ã¯ä¸å¯

# å›³è¡¨ã®æŒ¿å…¥

## å›³ã®æŒ¿å…¥: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«è²¼ã‚Šä»˜ã‘

* ãƒãƒ£ãƒ³ã‚¯ã®`out.width=`/`out.height=`ã§èª¿æ•´
* htmlã¨é•ã„**ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã¯å›ºå®š**
* jpeg, png, eps, pdf ã«å¯¾å¿œ
  + gif, svg ã¯ä¸Šè¨˜ã„ãšã‚Œã‹ã«**æ‰‹å‹•ã§å¤‰æ›ã™ã‚‹**å¿…è¦
  + \LaTeX (\XeLaTeX) ã®åˆ¶ç´„


```{r, echo=T, fig.cap="ã„ã¤ã‚‚ã®è™(TeXLiveã‚ˆã‚Š)", out.width="20%"}
knitr::include_graphics(file.path(file_loc, c("img/tiger.eps", "img/tiger.pdf", "img/tiger.png")))
```

## å›³ã®æŒ¿å…¥: markdownæ§‹æ–‡ã§è²¼ã‚Šä»˜ã‘

* `out.width=`/`out.height=`ãŒé©ç”¨ã•ã‚Œãªã„
* pandocæ§‹æ–‡ã§ã‚µã‚¤ã‚ºæŒ‡å®š

```markdown
![The Tiger](img/tiger.pdf){ height=30% }
```
![The Tiger](`r file.path(file_loc, "img/tiger.pdf")`){ height=30% }


## å›³ã®æŒ¿å…¥: `ggplot2`ã®ã‚°ãƒ©ãƒ•

* `fig.cap=`ã§ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’è¨­å®šå¯èƒ½. `labs(title = )`ã¨é•ã„è‡ªå‹•ç›¸äº’å‚ç…§ã‚ã‚Š
```{r ggplot2-theme}
theme_set(
  theme_classic(base_size = 11) +
  theme(legend.position = "top",
        axis.title.y = element_text(angle = 90, vjust = .5), legend.title = element_blank()))
```
```{r plot-example,  out.height="60%", fig.cap="ggplot2ã®å‡ºåŠ›ä¾‹: irisãƒ‡ãƒ¼ã‚¿"}
data(iris)
g <- ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +
  geom_point() + labs(x = "è¼é•·", y = "è¼å¹…")
g
```

## å›³ã®æŒ¿å…¥: æ–‡å­—ã®å¤§ãã•ã‚’ãã‚ãˆã‚‹ã«ã¯

* RStudioã¨å‡ºåŠ›ã•ã‚ŒãŸç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒé•ã†!
* ã‚°ãƒ©ãƒ•ã®æ–‡å­—å°ã•ã™ã!!
* ãã®åŸå› ã¯
1. **è‡ªå‹•ç¸®å°ã•ã‚Œã‚‹**ãŸã‚
  + è¾¼ã¿å…¥ã£ãŸè©±ãªã®ã§**æ¬¡ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã¸**
2. **å˜ä½ãŒé•ã†**ãŸã‚
  + beamerã¯ä¸»ã« **pt**å˜ä½
  + `ggplot2` ã¯ `aanotate()`ã®ã¿**mm**å˜ä½
* è£œè¶³
  * `cairo_pdf()`ã®`pointsize`ã¯ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ‡ãƒã‚¤ã‚¹ã«ã®ã¿å½±éŸ¿
  * ã€[ggplot2ã®sizeãŒæ„å‘³ã™ã‚‹ã‚‚ã®](https://uribo.hatenablog.com/entry/2018/06/11/232041)ã€

## å›³ã®æŒ¿å…¥: ç”»åƒã‚µã‚¤ã‚ºã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«

* RãŒä½œå›³ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ—¦ä¿å­˜ã—, æ‹¡å¤§ç¸®å°ã—ã¦è²¼ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹
  + `fig.width`/`fig.height` ã¯**ä¿å­˜æ™‚**ã®ã‚µã‚¤ã‚º
  + `out.width`/`out.height` ã¯**è¡¨ç¤ºã™ã‚‹**ã‚µã‚¤ã‚º
* Rã®ä¿å­˜ã‚µã‚¤ã‚ºã¨beamerã‚¹ãƒ©ã‚¤ãƒ‰ã®ã‚µã‚¤ã‚ºã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é•ã†
  + ã‚¹ãƒ©ã‚¤ãƒ‰ã¯**5.04 x 3.78 in (128 x 96 mm)**(4:3)
  + `ggsave()`ã¯ **9.11 x 5.77 in** ã§ä¿å­˜
* RStudioã®ãƒ“ãƒ¥ãƒ¼ã‚¢ã¯æ–‡å­—ã®å¤§ãã•**å›ºå®š**ã§**ã‚µã‚¤ã‚ºã‚’ç”»é¢ã«åˆã‚ã›ã‚‹**
  + **é•å’Œæ„Ÿã®æ­£ä½“**(?)

## å›³ã®æŒ¿å…¥: å¹…100%ã§å‡ºåŠ›

* æ³¨: `out.width="100%"`ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ã‚µã‚¤ã‚ºã§ã¯ãªã**æœ¬æ–‡é ˜åŸŸã®ç›¸å¯¾ã‚µã‚¤ã‚º**
````{r plot-size-test1, out.width="100%", fig.width=9.11, fig.height=5.77}
g + labs(title = "Iris") + theme_classic(base_size =11) + theme(axis.text = element_text(size = 11))
```

## å›³ã®æŒ¿å…¥: beamerã‚µã‚¤ã‚ºã§ä¿å­˜, å¹…100%ã§å‡ºåŠ›

* ç›¸å¯¾çš„ã«æ–‡å­—ãŒå¤§ãããªã£ãŸ
````{r plot-size-test2, out.width="100%"}
g + labs(title = "Iris") + theme_classic(base_size =11) + theme(axis.text = element_text(size = 11))
```


## å›³ã®æŒ¿å…¥: å­—ã®å¤§ãã•ã‚’ãªã‚‹ã¹ãæƒãˆã‚‹

* åŸºæº–ã‚’beamerã«åˆã‚ã›ã‚‹æ–¹æ³•
  1. ä¿å­˜æ™‚ã‚µã‚¤ã‚ºã‚’beamerã®ç”»é¢ã‚µã‚¤ã‚ºã¨åŒã˜ã«ã™ã‚‹
  + ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
  2. `theme_*()`ã§`base_size`ã‚’beamerã®æ–‡å­—ã‚µã‚¤ã‚ºã¨åŒã˜ã«ã™ã‚‹
* out.width="100%"ã®ã¨ã, ã‚°ãƒ©ãƒ•ã‚¿ã‚¤ãƒˆãƒ«ã¨æœ¬æ–‡ã®ã‚µã‚¤ã‚ºãŒä¸€è‡´
* æ‹¡å¤§ç¸®å°ã«åˆã‚ã›ã¦æ–‡å­—ã®å¤§ãã•ã‚’èª¿æ•´ã™ã‚‹
* æ¨ªé•·ã®ã‚°ãƒ©ãƒ•ãªã‚‰`fig.width=` ã‚’èª¿æ•´ã™ã‚‹


## å›³ã®æŒ¿å…¥: å†ç¾å¯èƒ½ãªãƒãƒ³ãƒçµµ

* æ¦‚å¿µå›³ã¨ã‹ã®å›³ç¤ºã¯ã©ã†ã™ã‚‹ã‹
  + NOT ãƒ‡ãƒ¼ã‚¿ã®è¦–è¦šåŒ–(ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³)
  + `ggplot2`ã®æœ¬æ¥ã®ä½¿ã„æ–¹ã§ã¯ãªã„
* `ggdag` ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³ã«ä½¿ãˆã‚‹
  + å› æœãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ , é·ç§»å›³, ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ç­‰
* `ggforce` ã¯[ãƒ™ãƒ³å›³ã®æç”»ã«å¿œç”¨å¯èƒ½](https://rpubs.com/sdutky/559050)
  + ä¸–é–“çš„ã«ã¯ã‚°ãƒ©ãƒ•ã®éƒ¨åˆ†æ‹¡å¤§ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸?
* è©³ã—ãã¯å€‹åˆ¥ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«å‚ç…§
* éœãŒé–¢æµãƒãƒ³ãƒçµµã¯**å°‚é–€å¤–**

## å›³ã®æŒ¿å…¥: ãƒãƒ³ãƒçµµã®ä¾‹1

* [ä»¥å‰ä½œã£ãŸã‚„ã¤](https://speakerdeck.com/ktgrstsh/r-and-epidemical-mathematical-models)ã®ä¿®æ­£

```{r punch-chart-example, out.width="90%", out.height="70%", fig.cap="ggdagã§ä½œã£ãŸYJ-SEIRãƒ¢ãƒ‡ãƒ«ã®é·ç§»å›³"}
diag_yjseir <- dagify(
  Y ~ E,
  J ~ E,
  S ~ Y,
  E ~ S,
  I ~ E + Y,
  R ~ J + I,
  labels = c("Y" = "æ‡ç–‘", "J" = "é–“æ¥æ¥è§¦", "S" = "æ„Ÿå—æ€§", "E" = "æ½œä¼", "I" = "æ„ŸæŸ“", "R" = "å›å¾©"),
  coords = list(x = c(Y = 1.5, J = 2, S = 0, E = 1, I = 2, R =3),
                y = c(Y = .5, J = -.5, S = 0, E = 0, I = 0, R = 0)
                )
  ) %>% tidy_dagitty() %>% mutate(label_edge = c("beta", NA, NA, "gamma", NA, "lambda",  NA, NA, NA))
diag_yjseir %>% ggplot(aes(x = x, y = y, xend = xend, yend = yend)) +
  geom_dag_node(size = 9 * .pt) +
  geom_dag_edges(edge_width = 2, arrow_directed = grid::arrow(length = grid::unit(.05, "npc"), type = "closed")) +
  geom_dag_text(aes(label = label)) +
  geom_label(aes(x = (x + xend)/2, y = (y + yend)/2, label = label_edge), parse = T, size = 10) +
  theme_dag_blank() + coord_cartesian(ylim=c(-1, 1))
```

## å›³ã®æŒ¿å…¥: ãƒãƒ³ãƒçµµã®ä¾‹2

* `ggforce::geom_circle()` ã‚’åˆ©ç”¨
  + å‚è€ƒ: [How to Plot Venn Diagrams Using R, ggplot2 and ggforce](https://scriptsandstatistics.wordpress.com/2018/04/26/how-to-plot-venn-diagrams-using-r-ggplot2-and-ggforce/)

```{r venn, fig.cap="ãƒ™ãƒ³å›³ã®ä¾‹", out.height="60%"}
require(ggforce)
df.venn <- data.frame(
  x = c(-.5, 0, .5), y = c(0, .8, 0), r = c(1, 1, 1), labels = c('ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°', 'ãƒ‡ã‚¶ã‚¤ãƒ³', 'ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£'))
ggplot(df.venn, aes(x0 = x, y0 = y, r = r, fill = labels)) +
  geom_circle(alpha = .3, size = 1, colour = 'grey') +
  geom_label(aes(x = x, y = y, label = labels)) +
  annotate("text", x = 0, y = .2, label = "LaTeX", size = 11 / .pt) +
  coord_fixed() + scale_fill_pander() +
  theme_void(base_size = 11) + theme(legend.position = "none")
```

## å›³ã®æŒ¿å…¥: Rä»¥å¤–ã®ãƒ‡ãƒã‚¤ã‚¹

* \LaTeX ã®`tikz`ã‚’ä½¿ç”¨å¯èƒ½
  + `tikz`ã‚’çŸ¥ã‚‰ãªã„äººã¯[ã“ã“](https://www.opt.mist.i.u-tokyo.ac.jp/~tasuku/tikz.html)ã‚„[TeX Wiki](https://texwiki.texjp.org/?TikZ)ã‚’èª­ã‚€
  + ç¾æ™‚ç‚¹ã§ã¯**æ—¥æœ¬èªè¡¨ç¤ºãŒé¢å€’** ([å‚è€ƒ](https://stackoverflow.com/questions/51689570/how-to-force-tikz-in-rmarkdown-document-to-show-cyrillic-text))
  + ~~ãã“ã¾ã§ã‚„ã‚‹ãªã‚‰å…¨éƒ¨\LaTeX ã§æ›¸ã„ãŸã»ã†ãŒã„ã„ã®ã§ã¯ãªã„ã‹?~~
* dotè¨€èªå˜ä½“ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚å¯èƒ½


## è¡¨ã®æŒ¿å…¥: ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ 

- Rã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦ä½œæˆã—ã¦å‡ºã™
  + ã¯ã¿å‡ºã™å ´åˆã¯ç¸®å°
  + æœ€ä½é™ã®æƒ…å ±ã ã‘æ²è¼‰ã™ã‚‹ã®ã¯å¤§å‰æ
  + `df_print: kable` ã§ã¯`caption`æŒ‡å®šãŒ[ã‚„ã‚„ã“ã—ã„](https://stackoverflow.com/questions/48410861/how-to-add-table-caption-using-df-print)

```{r kable-iris, eval=F, echo=T}
data(iris)
knitr::kable(head(iris[, 1:3]),
             caption="kable()ã«ã‚ˆã‚‹è¡¨ç¤º")
```

## è¡¨ã®æŒ¿å…¥: ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’`kable()`ã§è¡¨ç¤º

```{r kable-iris-display, echo=T}
data(iris)
knitr::kable(head(iris[, 1:3]),
             caption="kable()ã«ã‚ˆã‚‹è¡¨ç¤º")
```

## è¡¨ã®æŒ¿å…¥: \LaTeX ã‚³ãƒ¼ãƒ‰

* \LaTeX ã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¦è¡¨ã‚’æ²è¼‰
  + `\input{tab.tex}` ã§ã‚³ãƒ”ãƒšãªã—ã§è²¼ã‚Šä»˜ã‘å¯
  + `stargazer`ã¨ã®ä½µç”¨
  + **ãƒªã‚µã‚¤ã‚ºã¯æ‰‹å‹•ã§**
* ä»¥ä¸‹, è¡¨ã‚’`.tex`ã§å‡ºåŠ›ã—ã¦ã‹ã‚‰èª­ã¿è¾¼ã‚€
  
```{r tex-tab, echo=T}
xtable::xtable(
  head(iris), caption = "xtableã§export") %>%
  print(file = "tab.tex")
```

\input{tab.tex}

## è¡¨ã®æŒ¿å…¥: markdownæ§‹æ–‡

\small
```
Table: å¾—ç‚¹ä¸€è¦§

  ã‚¯ãƒ©ã‚¹ ç§‘ç›®   å¹³å‡
  ------ ----- -----
  A      ç®—æ•°   $90$
  B      ç®—æ•°   $95$
  ------ ----- -----
```
\normalsize

Table: å¾—ç‚¹ä¸€è¦§

  ã‚¯ãƒ©ã‚¹ ç§‘ç›®   å¹³å‡
  ------ ----- -----
  A      ç®—æ•°   $90$
  B      ç®—æ•°   $95$
  ------ ----- -----

# å¤–éƒ¨è³‡æ–™ã®å¼•ç”¨æ–¹æ³•

## ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯ã®æŒ¿å…¥

* urlã¯è‡ªå‹•ã§ãƒªãƒ³ã‚¯
  + https://rstudio.com/
* markdownæ–¹å¼ã®ãƒªãƒ³ã‚¯
  + `[RStudio](https://rstudio.com/)`
  + [RStudio](https://rstudio.com/)
* ç”»åƒã«ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯ [![RStudio](`r file.path(file_loc, "img/RStudio-Logo-flat.pdf")`){ height=10% }](https://rstudio.com/) ã‚’è²¼ã‚‹ã“ã¨ã‚‚å¯

## æ–‡çŒ®å¼•ç”¨ã®æ–¹æ³•

* `[@ref]` ã§ç•ªå·å¼•ç”¨: `\citep{ref}` ã«å¯¾å¿œ (`[1]`)
* `@ref` ã§è‘—è€…åå¼•ç”¨: `\citet{ref}`ã«å¯¾å¿œ (`hogehoge et al.`)
* `[@ref1; @ref1]` ã§é€£ç•ªå¼•ç”¨ `[1, 2]`
* ä»¥ä¸‹å¼•ç”¨ãƒ†ã‚¹ãƒˆ

```markdown
[@R-base; @R-bookdown; @R-citr; @wickham2016Data]
```

[@R-base; @R-bookdown; @R-citr; @wickham2016Data]

## æ–‡çŒ®å¼•ç”¨ã®è£œåŠ©: å¼•ç”¨å­ã®è£œå®Œ

* é‡è¤‡ãƒ»æ›¸ãé–“é•ãˆã®é˜²æ­¢
* `citr`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã¨æ¥½
  + ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã® `Addins` ã‹ã‚‰é¸æŠ
  + zoteroé€£æºæ©Ÿèƒ½ã‚ã‚Š

```{r citr-image, fig.cap="citrãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®GUI", out.width="50%"}
knitr::include_graphics(file.path(file_loc, "img/citr.png"))
```

## æ–‡çŒ®å¼•ç”¨ã®è£œåŠ©: æ–‡çŒ®ç®¡ç†

* Mendeley, Zotero, ReabCubeã®3ã¤ãŒå¤šã„?
* ç§ã¯Zoteroã‚’ä½¿ã£ã¦ã„ã‚‹
  + å¤šè¨€èªå¯¾å¿œ, é€£æºæ©Ÿèƒ½ã®å……å®Ÿ, æ–™é‡‘ãªã©ã®ç†ç”±
  + å‚è€ƒ: ã€[Mendeley Exodus Mendeley ã‹ã‚‰ Zotero ã¸ã®ç§»è¡Œã®æ‰‹å¼•ã~](https://ill-identified.hatenablog.com/entry/2019/03/05/195257)ã€
* `RefManageR` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
  + Rã§bibãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹ã—ãŸã‚Šã™ã‚‹
  + æ–‡çŒ®ç®¡ç†ç”¨ã«ã¯æ—¢å­˜ã‚½ãƒ•ãƒˆã§ååˆ†?

# ãã®ä»–ã®æ©Ÿèƒ½

## çµµæ–‡å­—

* [`BXcoloremoji`](https://github.com/zr-tex8r/BXcoloremoji)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚Œã°å¯èƒ½
  + `\coloremoji{}` ã§çµµæ–‡å­—è¡¨ç¤º: \ifdefined\coloremoji \coloremoji{ğŸ£} \else (ã“ã“ã«çµµæ–‡å­—) \fi
* ã‚°ãƒ©ãƒ•æç”»ã«ã¯ç‰¹ã«è¨­å®šå¿…è¦ãªã—
  + ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã®ã‚‚ã®ã¯æ–‡å­—åŒ–ã‘ã™ã‚‹

```{r sushi-plot, echo=T, out.width="40%", align="center"}
plot(1:10, pch = "ğŸ£")
```

# åŸºæœ¬çš„ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

## ãƒ•ã‚©ãƒ³ãƒˆå¤‰æ›´

* `XeCJK` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§åˆ¶å¾¡ã—ã¦ã„ã‚‹

```yaml
mainfont: Roboto
sansfont: Noto Sans CJK JP
monofont: Ricty Diminished
CJKmainfont: Noto Sans CJK JP
```

## ã‚¹ãƒ©ã‚¤ãƒ‰ã®ãƒ†ãƒ¼ãƒå¤‰æ›´

* æŒ‡å®šã§ãã‚‹åå‰ä¸€è¦§ã¯[ã“ã“](https://deic-web.uab.cat/~iblanes/beamer_gallery/index.html)ã‚’å‚ç…§
  + fonttheme ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ `professionalfont`
  + metropolis ã¯ã‚ã¾ã‚Šå¤‰åŒ–ãŒãªã„

```yaml
output:
  rmdCJK::beamer_presentation_CJK:
    theme: metropolis
    colortheme: yellow
    outertheme: default
    innertheme: default
    fonttheme: default
```

## ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã®ãƒ†ãƒ¼ãƒå¤‰æ›´

* ãƒ†ãƒ¼ãƒã¯ä»¥ä¸‹ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹
  + `default`, `tango`, `pygments`, `kate`, `monochrome`, `espresso`, `zenburn`, `haddock`, `breezedark`, `textmate`
    + å‚è€ƒ[Xie Yihui ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://bookdown.org/yihui/rmarkdown/html-document.html)

```yaml
output:
  rmdCJK::beamer_presentation_CJK:
  highlight: tango
```

## è‰²ã®å¤‰æ›´

* ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯ã®è‰²ã‚’å¤‰ãˆãŸã„å ´åˆã¯ä»¥ä¸‹ã‚’ã„ã˜ã‚‹
  + `linkcolor` ã‚¹ãƒ©ã‚¤ãƒ‰å†…ãƒªãƒ³ã‚¯
  + `citecolor` å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆã¸ã®ãƒªãƒ³ã‚¯
  + `urlcolor` urlãƒªãƒ³ã‚¯
* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨ã§ãã‚‹è‰²åã¯[ã“ã“](http://www.latex-cmd.com/style/color.html)ã‚’å‚ç…§

```yaml
output:
  rmdCJK::beamer_presentation_CJK:
    linkcolor: blue
    citecolor: green
    urlcolor: red
```

## å¼•ç”¨å½¢å¼ã®å¤‰æ›´

* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `natbib` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨
* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `[1]` ã®ã‚ˆã†ãªç•ªå·å½¢å¼
* è‘—è€…(å¹´) å½¢å¼ã«ã—ãŸã„å ´åˆã¯ `authoryear`
  + ãã®ä»–ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯[natnotes.pdf](http://texdoc.net/texmf-dist/doc/latex/natbib/natnotes.pdf)ã‚’å‚ç…§
* `biblatex`/`biber` ã®ä½¿ç”¨ã¯**æƒ³å®šã—ã¦ã„ãªã„**

```yaml
output:
  rmdCJK::beamer_presentation_CJK:
    citation-package: natbib
    citation-options: authoryear
```

## å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆã®å¤‰æ›´

* `.bib`, `.bst` ã¯ä»¥ä¸‹ã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹
* `.bst` ã¯ TeXå´ãŒèªè­˜ã—ã¦ã„ã‚Œã°ãƒ•ãƒ«ãƒ‘ã‚¹ãƒ»ç›¸å¯¾ãƒ‘ã‚¹ã§ã‚ã‚‹å¿…è¦ãªã—

```yaml
bibliography: examples.bib
biblio-style: jecon
```

## ã€Œå›³ã€ã€Œè¡¨ã€ã®è¡¨ç¤º

* å›³ã‚„è¡¨ã‚’æ²è¼‰ã™ã‚‹ã¨è‡ªå‹•ã§ã€Œå›³Xã€ã€Œè¡¨Yã€ãªã©ã¨è¡¨ç¤ºã•ã‚Œã‚‹
  + "Fig.", "Tab." ãªã©ã¨è¡¨ç¤ºã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´

```yaml
output:
  rmdCJK::beamer_presentation_CJK:
    figurename: Fig.
    tablename: Tab.
```

# ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

## Q: ã‚¨ãƒ©ãƒ¼ã®åŸå› ãŒã‚ˆãã‚ã‹ã‚‰ãªã„
* A: **ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤ã™ã‚‹ã¨è‰¯ããªã‚‹ã“ã¨ã‚‚ã‚ã‚‹**
  + (**å©ã‘ã°ç›´ã‚‹**ãƒ¬ãƒ™ãƒ«ã®é›‘ã‚¢ãƒ‰ãƒã‚¤ã‚¹)
  + `{ãƒ•ã‚¡ã‚¤ãƒ«å}_cache`, `{ãƒ•ã‚¡ã‚¤ãƒ«å}_files` ã¨ã„ã†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ¶ˆã™
  + å‰å›å¤±æ•—ã—ãŸéš›ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæ‚ªã•ã—ã¦ã‚‹ã“ã¨ã¯çµæ§‹ã‚ã‚‹
  + ã¾ãŸã¯ `cache = F`, `keep_tex: False`, `keep_md: False` ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ®‹ã•ãªã„
  + ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå®Ÿæ…‹ã¨çŸ›ç›¾ã—ã¦ã‚‹ã¨ãã¯ã¾ãšè©¦ã™
* A: `rmarkdown`/`knitr`ã¨\LaTeX ã©ã¡ã‚‰ã®ã‚¨ãƒ©ãƒ¼ã‹ç¢ºèª
  + `output file: {ãƒ•ã‚¡ã‚¤ãƒ«å}.md` ã¨å‡ºã‚Œã°pandocã¾ã§ã¯æ©Ÿèƒ½ã—ã¦ã„ã‚‹
  + pandocã®å¤‰æ›ãŒæ„å›³ã—ãŸã‚‚ã®ã§ãªã„å¯èƒ½æ€§ã¯ã‚ã‚‹

# ã¾ã¨ã‚

## çµæœã©ã†ãªã£ãŸã‹
* **è‰¯ã**ãªã£ãŸã“ã¨
  + `lstlisting.sty`**ã‚ˆã‚Šè¦‹ã‚„ã™ã„**ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  + Rã®ç”»åƒã‚„æ•°å€¤å‡ºåŠ›ã‚’**ã‚³ãƒ”ãƒšã—ãªãã¦æ¸ˆã‚€**
  + ä¸€ç”»é¢ã«åã‚ã‚‹ãŸã‚ã®æ§‹æˆã ã‘è€ƒãˆã‚Œã°æ¸ˆã‚€ã‚ˆã†ã«
* **æ‚ªã**ãªã£ãŸã“ã¨
  + (ãƒ‘ãƒ¯ãƒãƒ¦ãƒ¼ã‚¶çš„ã«)WYSIWYGã§ãªã„ã®ã§ä½œã‚Šã¥ã‚‰ã„?
  + æ•°å¼ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°/è£œå®Œã¯LyXãŒä¾ç„¶å„ªç§€
  + pythonä½œæ¥­ä¸­(jupyter notebookã¸ã®)**ä¸æº€é«˜ã¾ã‚Š**
  + ãƒãƒ³ãƒçµµã‚‚`ggplot2`ã§ä½œã‚‰ã­ã°ã¨ã„ã†**å¼·è¿«ç—‡çŠ¶**

## æ”¹è‰¯ãƒ»æ©Ÿèƒ½è¿½åŠ ã—ãŸã„ã¨ã“ã‚

* æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä½œæ¥­ã®å‰Šæ¸›
  + TeXLive ã‚’å…¥ã‚Œãªãã¦ã‚‚å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ã—ãŸã„
  + ãŸã¶ã‚“ `tinytex` ãŒãƒãƒƒã‚¯ 
* ç´°ã‹ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£
  + ä¾‹: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãŒä¸Šã‹ä¸‹ã‹ã§çµ±ä¸€ã•ã‚Œã¦ãªã„
* ä»–ã®è¨€èªã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ
* `ggplot2` ä»¥å¤–ã§æã‹ã‚ŒãŸã‚°ãƒ©ãƒ•ã®å¯¾å¿œ
  + åŸ‹ã‚è¾¼ã¿ã¯ã§ãã‚‹ãŒãƒ•ã‚©ãƒ³ãƒˆã®èª¿æ•´ãŒå›°é›£
  + `igraph` ã¿ãŸã„ãªã®ã¨ã‹...
* [issues](https://github.com/Gedevan-Aleksizde/my_latex_templates/labels/enhancement) ã«è©³ç´°

# ç´°ã‹ã„æŠ€è¡“çš„ãªè©±

## ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æƒ³å®šèª­è€…

* å˜ã«ä½¿ã„ãŸã„ã ã‘ã®äººã¯è¦‹ã‚‹å¿…è¦ãªã—
  + å†…éƒ¨å‡¦ç†çŸ¥ã‚ŠãŸã„äººå‘ã‘

## yamlãƒ˜ãƒƒãƒ€è¨­å®š: å‡ºåŠ›ã®è¨­å®š

* \XeLaTeX ç”Ÿæˆ
  + \LuaLaTeX ä½¿ç”¨è€…ãŒå¤šæ•°æ´¾?
* "`keep_tex: true`" ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®åŸå› ç‰¹å®šã«

```yaml
output:
  beamer_presentation:
    latex_engine: xelatex
    citation_package: natbib
    keep_tex: true
```

## \LaTeX ãƒ—ãƒªã‚¢ãƒ³ãƒ–ãƒ«: ãƒ†ãƒ¼ãƒè¨­å®š

* metropolisãƒ†ãƒ¼ãƒã‚’ä½¿ç”¨
  + https://github.com/matze/mtheme
  + ä»–ã®ãƒ¢ãƒ€ãƒ³ãªãƒ†ãƒ¼ãƒã¯*æ—¥æœ¬èªã¨ç›¸æ€§æ‚ªã„*
  + "`beamer_presentation:`" å†…ã§æŒ‡å®šã™ã‚‹ã¨**ã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šã§ããªã„**

```yaml
header-includes:
  - \usetheme[progressbar=frametitle,block=fill]{metropolis}
  - \makeatletter
  - \setlength{\metropolis@progressinheadfoot@linewidth}{2pt}
  - \usefonttheme{professionalfonts}
```

## \LaTeX ãƒ—ãƒªã‚¢ãƒ³ãƒ–ãƒ«: æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆè¨­å®š

* `zxjatype` ã§æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿**ãŸã‹ã£ãŸ**
  + æœ€æ–°ç‰ˆã§ç«¶åˆãŒã‚ã‚‹ã®ã§ `XeCJK` ã‚’ä½¿ã†

## \LaTeX ãƒ—ãƒªã‚¢ãƒ³ãƒ–ãƒ«: ãã®ä»–ã®è¨­å®š

* ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯ã®è‰²ã‚’è¦‹ã‚„ã™ãå¤‰æ›´
* "Figure 1", "Table 1" ã‚’ ã€Œå›³1ã€ã€Œè¡¨1ã€ã«
* å‚è€ƒæ–‡çŒ®ãƒªã‚¹ãƒˆã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºç¸®å°
* ã‚³ãƒ¼ãƒ‰ãƒãƒ£ãƒ³ã‚¯ã«è¡Œç•ªå·
  + è¡¨ç¤ºã¯é¸æŠå¼
* ãã®ä»–ã„ã‚ã„ã‚ãªå¾®èª¿æ•´ã‚’texã®ãƒ—ãƒªã‚¢ãƒ³ãƒ–ãƒ«ã§è¨­å®š

## æ—¥æœ¬èªæ–‡çŒ®ã«ã©ã†å¯¾å¿œã—ã¦ã„ã‚‹ã‹

* [`jecon.bst`](https://github.com/ShiroTakeda/jecon-bst/blob/master/jecon.bst)ã‚’ä½¿ã„ãŸã„
  + ãƒãƒ«ãƒãƒã‚¤ãƒˆæ–‡å­—æœªå¯¾å¿œ ã®\BibTeX 
  + æ—¥æœ¬èªã¯ \upBibTeX å¿…è¦
  + `biblatex` ã§ã¯ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ä¸æº€
* `knitr`ã¯æ—¥æœ¬èªæ›¸èªŒæƒ…å ±å‡¦ç†æœªå¯¾å¿œ
  + å†…éƒ¨ã§ã¯è‡ªå‰ã®è¨­å®šã§`latexmk`ã‚’å‘¼ã³å‡ºã—
  + å‘¼ã³å‡ºã—ã¦ã„ã‚‹ãƒ©ãƒƒãƒ‘ã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã—
  + ç©æ¥µçš„ã«æ”¹ä¿®ã®æ°—é…ãªã—([å‚è€ƒ](https://github.com/yihui/tinytex/issues/70))
* è‡ªå‰ã®è¨­å®šã‚’ä½¿ç”¨ã™ã‚‹([å‚è€ƒ](https://github.com/kenjimyzk/bookdown_ja_template))
  + `tinytex.latexmk.emulation = F`
  + [ã“ã“](https://texwiki.texjp.org/?Latexmk)ã‚’å‚è€ƒã«`.latexmkrc`è¨­å®š
  + **Rmdã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«**ä¸Šè¨˜ã‚’ç½®ã

## è¬è¾

ã“ã‚Œã‚’ä½œã‚‹ã«ã‚ãŸã£ã¦å¤§ã„ã«å‚è€ƒã«ãªã£ãŸè³‡æ–™

* kazutan: ã€[R Markdownã®å†…éƒ¨ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé–‹ç™º](https://kazutan.github.io/HijiyamaR6/intoTheRmarkdown.html)ã€
* atusy:ã€[R Markdownã®ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½œã‚ã†](https://atusy.github.io/tokyor85-original-rmd-format/#/)ã€

----
`r if (knitr::is_latex_output()) '
\\section*{å‚è€ƒæ–‡çŒ®}
'`

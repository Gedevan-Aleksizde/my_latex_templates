# ---- html(github pages) の出力設定 ----
bookdown::gitbook:
  fig_caption: true                          # 図表のキャプション表示
  number_sections: true                      # セクションに番号を振る
  self_contained: false                      # 外部ファイルに一切依存しないようなスタンドアローン版にするかどうか
  lib_dir: libs                              # .js ファイルとかの置き場所
  # pandoc_args:
  template: default                          # pandoc テンプレート
  split_by: chapter                          # ページを分割する単位. 長過ぎるなら section を指定
  split_bib: false                           # 参考文献リストを章ごとに配置するかどうか
  table_css: true                            # gitbook 用の表CSSを使用するかどうか
  dev: svglite                               # 画像の出力デバイス. HTML なので SVG ファイルにする
  css: 
    - '../../styles/css/style.css'
    - '../../styles/css/toc.css'    # 出力ディレクトリにコピーするするcssファイルの場所
  keep_md: true                              # Rmdからpandocで変換したmdファイルを残すかどうか
  config:
    toc:
      collapse: none                         # 目次の自動折りたたみの単位. section/subsection/none
      before: |
        <li><a href="./">Top</a></li>
      after: |
        <li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>
# 各種ボタンの設定
# 編集ボタン. URLまたは null.  _bokdown.yml と一致させないと死ぬ?
    toolbar:
      position: fixed  # or `static` ツールバーをトップに固定するか常に表示するか
    edit : null
    download:
      - pdf            # HTML版からダウンロードできるファイル
      - epub
      - mobi
    search: true       # 検索バーの有無
    fontsettings:
      theme: white    # 白地
      family: sans    # 標準フォントファミリー
      size: 2         # 標準サイズ
    info: true        # info ボタンの有無
    sharing:
      github: true     # 以下各種ソーシャルリンク. 果たしていくつあるのか
      twitter: true
      facebook: true
      all: ['linkedin', 'vk', 'weibo', 'instapaper']  # まとめることもできる.

# ---- pdfの出力設定 ----
bookdown::pdf_book:
  toc: true
  number_sections: true
  fig_caption: true
  base_format: rmarkdown::pdf_document
  documentclass: bxjsbook
  toc_unnumbered: true                       # 番号を振ってない見出しも目次に加えるかどうか
  toc_depth: 3                               # 目次に表示する項目のレベル
  toc_appendix: true                         # 目次に Appendix の項目を加えるか
  toc_bib: true                              # 目次に 参考文献の項目を加えるか
  highlight_bw: false                        # シンタックスハイライトをグレースケールに変換するかどうか (カラー印刷できないときのため?)
  includes:
  #  in_header: '../../styles/latex/preamble.tex'            # プリアンブルで読み込むtexファイル. bookdown固有のプリアンブルの後に読み込まれる
  #  before_body: '../../styles/latex/before_body.tex'       # 本文 (document環境) 開始直後に読み込む
  #  after_body: '../../styles/latex/after_body.tex'         # 本文最後に読み込む. 索引リスト出力などに使う.
  latex_engine: xelatex                      # 日本語を扱うならxelatex/lualatexが良い
  keep_tex: true                             # .texファイルを残すかどうか
  citation_package: natbib                   # 引用スタイルパッケージ
  pandoc_args: 
    - --top-level-division=chapter
    - "--extract-media"
    - "."
  template: '../../pandoc-templates/document-ja.tex.template'
  
  dev: "cairo_pdf"                           # 画像デバイス
  out.width: "100%"
  out.height: "100%"
  quote_footer: ["\\VA{", "}{}"]             # 引用ブロック前後の修飾文字

# ---- epubの出力設定 ----
bookdown::epub_book:
  fig_width: 5
  fig_height: 4
  dev: svglite
  fig_caption: true
  number_sections: true
  toc: false
  toc_depth: 3
  stylesheet: 
    - '../../styles/style.css'
    - '../../styles/css/toc.css'
  chapter_level: 1
  template: default
  epub_version: epub3